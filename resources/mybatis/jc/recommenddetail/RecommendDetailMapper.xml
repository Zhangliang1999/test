<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.jy.repository.jc.recommenddetail.RecommendDetailDao" >
  <resultMap id="BaseResultMap" type="RecommendDetail" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    <result column="recommend_id" property="recommendId" jdbcType="VARCHAR" />
    <result column="match_id" property="matchId" jdbcType="VARCHAR" />
    <result column="match_game_id" property="matchGameId" jdbcType="DECIMAL" />
    <result column="guess_result" property="guessResult" jdbcType="DECIMAL" />
    <result column="match_preview" property="matchPreview" jdbcType="VARCHAR" />
    <result column="strength_ratio" property="strengthRatio" jdbcType="VARCHAR" />
    <result column="strength_desc" property="strengthDesc" jdbcType="VARCHAR" />
    <result column="data_ratio" property="dataRatio" jdbcType="VARCHAR" />
    <result column="data_desc" property="dataDesc" jdbcType="VARCHAR" />
    <result column="expert_comments" property="expertComments" jdbcType="VARCHAR" />
    <result column="tech_statis" property="techStatis" jdbcType="VARCHAR" />
    <result column="profit_rate" property="profitRate" jdbcType="DECIMAL" />
  </resultMap>

    <select id="findByPage" resultMap="BaseResultMap" parameterType="RecommendDetail" >
        select
            recommend_id, match_id, match_game_id,
            guess_result, match_preview, strength_ratio,
            strength_desc, data_ratio, data_desc,
            expert_comments, tech_statis, profit_rate
        from jc_recommend_detail
        where 1=1
        <if test="param.recommendId">
            and recommend_id=#{param.recommendId}
        </if>
        <if test="param.keyWord != null">
            and (
            match_game_id LIKE CONCAT('%',#{param.keyWord},'%')
            or guess_result LIKE CONCAT('%',#{param.keyWord},'%')
            )
        </if>
    </select>

</mapper>